<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema HPSR</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f9e2b5 0%, #f5d9a6 100%);
            min-height: 100vh;
            padding: 20px;
            color: #491100;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            background-color: #fdf6e3;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(73, 17, 0, 0.2);
            overflow: hidden;
            border: 1px solid #e8d5b5;
        }
        
        .header {
            background: linear-gradient(135deg, #491100 0%, #3a0e00 100%);
            color: #f9e2b5;
            padding: 25px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(249, 226, 181, 0.1) 0%, rgba(249, 226, 181, 0) 70%);
            transform: rotate(30deg);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
            position: relative;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .nav-container {
            background: linear-gradient(135deg, #3a0e00 0%, #2a0a00 100%);
            padding: 15px 30px;
            border-bottom: 3px solid #f9e2b5;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        
        .nav-principal {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            padding: 12px 25px;
            background: linear-gradient(135deg, rgba(249, 226, 181, 0.15) 0%, rgba(249, 226, 181, 0.05) 100%);
            color: #f9e2b5;
            border: 2px solid rgba(249, 226, 181, 0.4);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            font-size: 1rem;
            text-align: center;
        }
        
        .nav-btn:hover {
            background: linear-gradient(135deg, rgba(249, 226, 181, 0.3) 0%, rgba(249, 226, 181, 0.2) 100%);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            border-color: #f9e2b5;
        }
        
        .nav-btn i {
            font-size: 1.2rem;
        }
        
        .content {
            padding: 30px;
        }
        
        .section {
            margin-bottom: 30px;
            padding: 25px;
            background-color: #fef9ec;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(73, 17, 0, 0.1);
            border-left: 5px solid #491100;
        }
        
        h2 {
            color: #491100;
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px solid #e8d5b5;
            padding-bottom: 10px;
        }

        h2 i {
            color: #491100;
        }
        
        .convenio-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 15px;
        }
        
        .convenio-option {
            padding: 15px 20px;
            background: linear-gradient(135deg, #f9e2b5 0%, #f5d9a6 100%);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            font-weight: 600;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            color: #491100;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(73, 17, 0, 0.1);
        }
        
        .convenio-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(73, 17, 0, 0.1) 0%, rgba(73, 17, 0, 0) 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .convenio-option:hover::before {
            opacity: 1;
        }
        
        .convenio-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(73, 17, 0, 0.2);
            border-color: #491100;
        }
        
        .convenio-option.active {
            background: linear-gradient(135deg, #491100 0%, #3a0e00 100%);
            color: #f9e2b5;
            border-color: #491100;
            box-shadow: 0 8px 20px rgba(73, 17, 0, 0.3), 0 0 0 2px rgba(249, 226, 181, 0.3);
        }
        
        .convenio-option.active::after {
            content: '';
            position: absolute;
            top: 5px;
            right: 5px;
            width: 10px;
            height: 10px;
            background-color: #f9e2b5;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(249, 226, 181, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(249, 226, 181, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(249, 226, 181, 0);
            }
        }

        .convenio-option i {
            font-size: 1.4rem;
            transition: transform 0.3s;
        }
        
        .convenio-option:hover i {
            transform: scale(1.1);
        }
        
        .convenio-option.active i {
            transform: scale(1.1);
        }

        .desconto-info {
            font-size: 0.85rem;
            margin-top: 5px;
            font-weight: normal;
            background: rgba(73, 17, 0, 0.1);
            padding: 3px 8px;
            border-radius: 12px;
            transition: all 0.3s;
        }
        
        .convenio-option.active .desconto-info {
            background: rgba(249, 226, 181, 0.2);
            color: #f9e2b5;
        }
        
        .combos-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #e8d5b5;
        }
        
        .combos-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #491100;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .combos-options {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .combo-btn {
            padding: 12px 20px;
            background: linear-gradient(135deg, #8d6e63 0%, #6d4c41 100%);
            color: #f9e2b5;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            flex: 1;
            min-width: 200px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(73, 17, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .combo-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(249, 226, 181, 0.1) 0%, rgba(249, 226, 181, 0) 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .combo-btn:hover::before {
            opacity: 1;
        }
        
        .combo-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(73, 17, 0, 0.3);
            background: linear-gradient(135deg, #6d4c41 0%, #491100 100%);
        }
        
        .combo-btn:active {
            transform: translateY(-2px);
        }
        
        .combo-info {
            font-size: 0.8rem;
            opacity: 0.9;
            font-weight: normal;
        }
        
        .zerar-section {
            background: linear-gradient(135deg, #f9e2b5 0%, #f5d9a6 100%);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(73, 17, 0, 0.1);
            position: relative;
            overflow: hidden;
            border: 1px solid #e8d5b5;
        }

        .zerar-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 8px;
            height: 100%;
            background: linear-gradient(to bottom, #491100, #3a0e00);
        }
        
        .zerar-section h3 {
            margin-bottom: 20px;
            color: #491100;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .zerar-section h3 i {
            color: #491100;
        }
        
        .valor-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: 600;
            color: #491100;
        }
        
        .valor-total {
            font-size: 1.8rem;
            font-weight: 700;
            color: #491100;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .convenio-aplicado {
            font-style: italic;
            background: linear-gradient(135deg, #491100 0%, #3a0e00 100%);
            color: #f9e2b5;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            box-shadow: 0 2px 5px rgba(73, 17, 0, 0.3);
        }
        
        .btn-zerar-tudo {
            position: absolute;
            right: 25px;
            top: 25px;
            padding: 12px 20px;
            background: linear-gradient(135deg, #6b2a00 0%, #491100 100%);
            color: #f9e2b5;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 10px rgba(73, 17, 0, 0.3);
        }
        
        .btn-zerar-tudo:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(73, 17, 0, 0.4);
            background: linear-gradient(135deg, #491100 0%, #3a0e00 100%);
        }
        
        .btn-zerar-tudo:active {
            transform: translateY(-2px);
        }
        
        /* Estilos das abas */
        .abas-container {
            margin-top: 30px;
        }
        
        .abas-botoes {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e8d5b5;
            flex-wrap: wrap;
        }
        
        .aba-botao {
            padding: 12px 25px;
            background: linear-gradient(135deg, #f9e2b5 0%, #f5d9a6 100%);
            border: none;
            border-radius: 10px 10px 0 0;
            cursor: pointer;
            font-weight: 600;
            color: #491100;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
            min-width: 180px;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(73, 17, 0, 0.1);
        }
        
        .aba-botao:hover {
            background: linear-gradient(135deg, #f5d9a6 0%, #f0d09a 100%);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(73, 17, 0, 0.15);
        }
        
        .aba-botao.ativo {
            background: linear-gradient(135deg, #491100 0%, #3a0e00 100%);
            color: #f9e2b5;
            box-shadow: 0 4px 10px rgba(73, 17, 0, 0.3);
        }
        
        .aba-conteudo {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .aba-conteudo.ativo {
            display: block;
        }
        
        .produtos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
        }
        
        .produto-card {
            border: 1px solid #e8d5b5;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background-color: #fef9ec;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .produto-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #491100, #6b2a00);
            transform: scaleX(0);
            transition: all 0.3s;
        }

        .produto-card:hover::before {
            transform: scaleX(1);
        }
        
        .produto-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(73, 17, 0, 0.15);
        }
        
        .produto-imagem-container {
            width: 100px;
            height: 100px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
            border: 3px solid #e8d5b5;
            box-shadow: 0 4px 8px rgba(73, 17, 0, 0.1);
            background-color: #f9e2b5;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .produto-imagem {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .produto-card:hover .produto-imagem {
            transform: scale(1.05);
        }
        
        .produto-nome {
            font-weight: 700;
            margin-bottom: 10px;
            color: #491100;
            font-size: 1.1rem;
            text-transform: uppercase;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .produto-preco {
            color: #491100;
            margin-bottom: 10px;
            font-size: 1.3rem;
            font-weight: 700;
        }
        
        .produto-controles {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
            width: 100%;
        }
        
        .quantidade {
            display: flex;
            align-items: center;
            gap: 10px;
            background-color: #f9e2b5;
            padding: 5px;
            border-radius: 8px;
            border: 1px solid #e8d5b5;
        }
        
        .btn-quantidade {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, #491100, #3a0e00);
            color: #f9e2b5;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .btn-quantidade:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(73, 17, 0, 0.3);
        }
        
        .quantidade-input {
            width: 50px;
            height: 32px;
            text-align: center;
            border: 1px solid #e8d5b5;
            border-radius: 5px;
            font-weight: 700;
            font-size: 1rem;
            color: #491100;
            background-color: #fef9ec;
            -moz-appearance: textfield;
        }
        
        .quantidade-input::-webkit-outer-spin-button,
        .quantidade-input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        
        .quantidade-input:focus {
            outline: none;
            border-color: #491100;
            box-shadow: 0 0 0 2px rgba(73, 17, 0, 0.2);
        }
        
        .btn-zerar {
            padding: 8px 15px;
            background: linear-gradient(135deg, #6b2a00, #491100);
            color: #f9e2b5;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .btn-zerar:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(73, 17, 0, 0.3);
            background: linear-gradient(135deg, #491100, #3a0e00);
        }

        .footer {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #491100 0%, #3a0e00 100%);
            color: #f9e2b5;
            font-size: 0.9rem;
            margin-top: 20px;
        }

        /* Animações */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .produto-card {
            animation: fadeIn 0.5s ease forwards;
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .nav-principal {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-btn {
                width: 100%;
                max-width: 250px;
                justify-content: center;
            }
            
            .produtos-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .convenio-options, .combos-options {
                grid-template-columns: 1fr;
            }
            
            .valor-info {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn-zerar-tudo {
                position: static;
                margin-top: 15px;
                width: 100%;
                justify-content: center;
            }
            
            .abas-botoes {
                flex-direction: column;
            }
            
            .aba-botao, .combo-btn {
                border-radius: 10px;
                margin-bottom: 5px;
                min-width: 100%;
            }
            
            .produto-imagem-container {
                width: 120px;
                height: 120px;
            }
        }
        
        @media (max-width: 480px) {
            .produtos-grid {
                grid-template-columns: 1fr;
            }
            
            .header {
                padding: 20px 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .content {
                padding: 15px;
            }
            
            .nav-container {
                padding: 10px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-calculator"></i> Sistema HPSR</h1>
        </div>
        
        <div class="nav-container">
            <div class="nav-principal">
                <a href="https://hpsaorafael193-del.github.io/Sistema_de_Laudos_SR-5.0/" target="_blank" class="nav-btn">
                    <i class="fas fa-file-medical"></i> Exames
                </a>
                <a href="https://hpsaorafael193-del.github.io/Atestados-SR/" target="_blank" class="nav-btn">
                    <i class="fas fa-file-signature"></i> Atestados
                </a>
                <a href="https://hpsaorafael193-del.github.io/Receita-1.0/" target="_blank" class="nav-btn">
                    <i class="fas fa-prescription"></i> Receita Médica
                </a>
            </div>
        </div>
        
        <div class="content">
            <div class="section">
                <h2><i class="fas fa-handshake"></i> Convênio do Cliente:</h2>
                <div class="convenio-options">
                    <div class="convenio-option active" data-convenio="sem">
                        <i class="fas fa-times-circle"></i>
                        <span>Sem Convênio</span>
                        <div class="desconto-info">Sem desconto</div>
                    </div>
                    <div class="convenio-option" data-convenio="plano">
                        <i class="fas fa-file-contract"></i>
                        <span>Plano Médico</span>
                        <div class="desconto-info">20% de desconto</div>
                    </div>
                    <div class="convenio-option" data-convenio="parceria-pm">
                        <i class="fas fa-shield-alt"></i>
                        <span>Parceria PM</span>
                        <div class="desconto-info">10% de desconto</div>
                    </div>
                    <div class="convenio-option" data-convenio="parceria">
                        <i class="fas fa-star"></i>
                        <span>Parceria</span>
                        <div class="desconto-info">15% de desconto</div>
                    </div>
                </div>
                
                <div class="combos-section">
                    <div class="combos-title">
                        <i class="fas fa-boxes"></i> Combos Especiais:
                    </div>
                    <div class="combos-options">
                        <button class="combo-btn" id="combo-pm">
                            <i class="fas fa-heartbeat"></i> COMBO PM
                            <div class="combo-info">KIT MÉDICO: +2 | BANDAGEM: +5 | ATADURA: +20 | ADRENALINA: +5</div>
                        </button>
                        <button class="combo-btn" id="combo-cidadao">
                            <i class="fas fa-user-shield"></i> COMBO CIDADÃO
                            <div class="combo-info">KIT MÉDICO: +2 | BANDAGEM: +5 | ATADURA: +10 | ADRENALINA: +2</div>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="zerar-section">
                <h3><i class="fas fa-percentage"></i> Zerar Juros</h3>
                <button class="btn-zerar-tudo" id="btn-zerar-tudo">
                    <i class="fas fa-broom"></i> Zerar Tudo
                </button>
                <div class="valor-info">
                    <div>Valor total da compra</div>
                    <div>Convênio Aplicado:</div>
                </div>
                <div class="valor-info">
                    <div class="valor-total">R$ 0,00</div>
                    <div class="convenio-aplicado">Sem Convênio</div>
                </div>
            </div>
            
            <div class="abas-container">
                <div class="abas-botoes">
                    <button class="aba-botao ativo" data-aba="medicamentos">
                        <i class="fas fa-pills"></i> Medicamentos
                    </button>
                    <button class="aba-botao" data-aba="procedimentos">
                        <i class="fas fa-procedures"></i> Procedimentos
                    </button>
                    <button class="aba-botao" data-aba="ursos-hp">
                        <i class="fas fa-paw"></i> Ursos HP
                    </button>
                </div>
                
                <div class="aba-conteudo ativo" id="aba-medicamentos">
                    <h2><i class="fas fa-pills"></i> Medicamentos</h2>
                    <div class="produtos-grid" id="produtos-medicamentos">
                        <!-- Medicamentos serão inseridos via JavaScript -->
                    </div>
                </div>
                
                <div class="aba-conteudo" id="aba-procedimentos">
                    <h2><i class="fas fa-procedures"></i> Procedimentos</h2>
                    <div class="produtos-grid" id="produtos-procedimentos">
                        <!-- Procedimentos serão inseridos via JavaScript -->
                    </div>
                </div>
                
                <div class="aba-conteudo" id="aba-ursos-hp">
                    <h2><i class="fas fa-paw"></i> Ursos HP</h2>
                    <div class="produtos-grid" id="produtos-ursos-hp">
                        <!-- Ursos HP serão inseridos via JavaScript -->
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>Sistema HPSR &copy; 2025 - Todos os direitos reservados</p>
        </div>
    </div>

    <script>
        // Dados dos produtos organizados por categoria (valores em centavos)
        const medicamentos = [
            { id: 'm0', nome: "KIT MÉDICO", preco: 230000, imagem: "Icones/Kit medico.png" },
            { id: 'm1', nome: "BANDAGEM", preco: 30000, imagem: "Icones/Bandagem.png" },
            { id: 'm2', nome: "ATADURA", preco: 25000, imagem: "Icones/Atadura.png" },
            { id: 'm3', nome: "ADRENALINA", preco: 780000, imagem: "Icones/Adrenalina.png" },
            { id: 'm4', nome: "SINKALMY", preco: 80000, imagem: "Icones/Sinkalmy.png" },
            { id: 'm5', nome: "RITMONEARY", preco: 55000, imagem: "Icones/Ritmoneary.png" },
            { id: 'm6', nome: "ANALGÉSICO", preco: 55000, imagem: "Icones/Analgesico.png" },
        ];

        const procedimentos = [
            { id: 'p0', nome: "TRATAMENTO", preco: 180000, imagem: "Icones/Tratamento.png" },
            { id: 'p1', nome: "QUEIMADURAS/GESSO", preco: 250000, imagem: "Icones/Gesso.png" },
            { id: 'p2', nome: "CONSULTAS", preco: 10000000, imagem: "Icones/Consultas.png" },
            { id: 'p3', nome: "EXAMES BASICOS", preco: 250000, imagem: "Icones/Exames_basicos.png" },
            { id: 'p4', nome: "EXAMES DE IMAGEM", preco: 300000, imagem: "Icones/Exames_imagem.png" },
            { id: 'p5', nome: "FERT IN VITRO", preco: 15000000, imagem: "Icones/Fiv.png" },
            { id: 'p6', nome: "PROCEDIMENTOS", preco: 25000000, imagem: "Icones/Procedimentos.png" },
            { id: 'p7', nome: "PARTO NORMAL", preco: 30000000, imagem: "Icones/Partos.png" },
        ];

        const ursosHP = [
            { id: 'u0', nome: "CATZINHA", preco: 3000000, imagem: "Icones/CatZinha.png" },
            { id: 'u1', nome: "CAPIZINHA", preco: 3000000, imagem: "Icones/CapZinha.png" },
        ];

        // Configuração dos combos
        const combos = {
            'pm': {
                nome: 'COMBO PM',
                items: [
                    { id: 'm0', quantidade: 2 },
                    { id: 'm1', quantidade: 5 },
                    { id: 'm2', quantidade: 20 },
                    { id: 'm3', quantidade: 5 },
                ]
            },
            'cidadao': {
                nome: 'COMBO CIDADÃO',
                items: [
                    { id: 'm0', quantidade: 2 },
                    { id: 'm1', quantidade: 5 },
                    { id: 'm2', quantidade: 10 },
                    { id: 'm3', quantidade: 2 },
                ]
            }
        };

        // Elementos DOM
        const valorTotalElement = document.querySelector('.valor-total');
        const convenioAplicadoElement = document.querySelector('.convenio-aplicado');
        const btnZerarTudo = document.getElementById('btn-zerar-tudo');
        const btnComboPM = document.getElementById('combo-pm');
        const btnComboCidadao = document.getElementById('combo-cidadao');
        const abaBotoes = document.querySelectorAll('.aba-botao');
        const abaConteudos = document.querySelectorAll('.aba-conteudo');
        const convenioOptions = document.querySelectorAll('.convenio-option');
        
        // Estado da aplicação
        let carrinho = {};
        let convenioAtual = 'sem';
        
        // Inicializar carrinho para todos os produtos
        [...medicamentos, ...procedimentos, ...ursosHP].forEach(produto => {
            carrinho[produto.id] = 0;
        });
        
        // Renderizar produtos por categoria
        function renderizarProdutos() {
            renderizarCategoria('medicamentos', medicamentos);
            renderizarCategoria('procedimentos', procedimentos);
            renderizarCategoria('ursos-hp', ursosHP);
            adicionarEventListeners();
        }
        
        function renderizarCategoria(tipo, produtos) {
            const container = document.getElementById(`produtos-${tipo}`);
            container.innerHTML = '';
            
            produtos.forEach((produto, index) => {
                const produtoCard = document.createElement('div');
                produtoCard.className = 'produto-card';
                produtoCard.style.animationDelay = `${index * 0.05}s`;
                
                produtoCard.innerHTML = `
                    <div class="produto-imagem-container">
                        <img src="${produto.imagem}" alt="${produto.nome}" class="produto-imagem" onerror="this.src='https://via.placeholder.com/150x150/f9e2b5/491100?text=${encodeURIComponent(produto.nome)}'">
                    </div>
                    <div class="produto-nome">${produto.nome}</div>
                    <div class="produto-preco">R$ ${formatarPreco(produto.preco)}</div>
                    <div class="produto-controles">
                        <div class="quantidade">
                            <button class="btn-quantidade diminuir" data-produto-id="${produto.id}">-</button>
                            <input type="number" class="quantidade-input" id="quantidade-${produto.id}" value="0" min="0" data-produto-id="${produto.id}">
                            <button class="btn-quantidade aumentar" data-produto-id="${produto.id}">+</button>
                        </div>
                        <button class="btn-zerar" data-produto-id="${produto.id}">
                            <i class="fas fa-eraser"></i> Zerar
                        </button>
                    </div>
                `;
                
                container.appendChild(produtoCard);
            });
        }
        
        function adicionarEventListeners() {
            // Botões de aumentar
            document.querySelectorAll('.aumentar').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const id = e.target.getAttribute('data-produto-id');
                    if (id) {
                        carrinho[id]++;
                        atualizarQuantidade(id);
                        calcularTotal();
                    }
                });
            });
            
            // Botões de diminuir
            document.querySelectorAll('.diminuir').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const id = e.target.getAttribute('data-produto-id');
                    if (id && carrinho[id] > 0) {
                        carrinho[id]--;
                        atualizarQuantidade(id);
                        calcularTotal();
                    }
                });
            });
            
            // Botões de zerar individual
            document.querySelectorAll('.btn-zerar').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const id = e.target.closest('.btn-zerar').getAttribute('data-produto-id');
                    if (id) {
                        carrinho[id] = 0;
                        atualizarQuantidade(id);
                        calcularTotal();
                    }
                });
            });
            
            // Inputs de quantidade
            document.querySelectorAll('.quantidade-input').forEach(input => {
                input.addEventListener('change', (e) => {
                    const id = e.target.getAttribute('data-produto-id');
                    if (id) {
                        let valor = parseInt(e.target.value) || 0;
                        if (valor < 0) valor = 0;
                        carrinho[id] = valor;
                        calcularTotal();
                    }
                });
                
                input.addEventListener('input', (e) => {
                    const id = e.target.getAttribute('data-produto-id');
                    if (id) {
                        let valor = parseInt(e.target.value) || 0;
                        if (valor < 0) valor = 0;
                        carrinho[id] = valor;
                        calcularTotal();
                    }
                });
            });
        }
        
        function atualizarQuantidade(id) {
            const input = document.getElementById(`quantidade-${id}`);
            if (input) {
                input.value = carrinho[id];
            }
        }
        
        // Função para aplicar combo (SEM ALERTA)
        function aplicarCombo(tipoCombo) {
            const combo = combos[tipoCombo];
            
            // Aplicar quantidades do combo
            combo.items.forEach(item => {
                // Verificar se o item existe no carrinho
                if (carrinho[item.id] !== undefined) {
                    carrinho[item.id] = (carrinho[item.id] || 0) + item.quantidade;
                    atualizarQuantidade(item.id);
                }
            });
            
            // Garantir que estamos na aba de medicamentos
            alternarAba('medicamentos');
            
            // Recalcular total
            calcularTotal();
        }
        
        function calcularTotal() {
            let total = 0;
            
            // Calcular total de medicamentos
            medicamentos.forEach(produto => {
                const quantidade = carrinho[produto.id] || 0;
                total += produto.preco * quantidade;
            });
            
            // Calcular total de procedimentos
            procedimentos.forEach(produto => {
                const quantidade = carrinho[produto.id] || 0;
                total += produto.preco * quantidade;
            });
            
            // Calcular total de ursos HP
            ursosHP.forEach(produto => {
                const quantidade = carrinho[produto.id] || 0;
                total += produto.preco * quantidade;
            });
            
            // Aplicar desconto
            let desconto = 0;
            let textoConvenio = '';
            
            switch(convenioAtual) {
                case 'plano':
                    desconto = 0.20; // 20%
                    textoConvenio = 'Plano Médico';
                    break;
                case 'parceria-pm':
                    desconto = 0.10; // 10%
                    textoConvenio = 'Parceria PM';
                    break;
                case 'parceria':
                    desconto = 0.15; // 15%
                    textoConvenio = 'Parceria';
                    break;
                default:
                    desconto = 0;
                    textoConvenio = 'Sem Convênio';
            }
            
            // Calcular total com desconto
            const totalComDesconto = total * (1 - desconto);
            
            // Atualizar display
            valorTotalElement.textContent = `R$ ${formatarPreco(totalComDesconto)}`;
            convenioAplicadoElement.textContent = textoConvenio;
        }
        
        function formatarPreco(preco) {
            // Converter centavos para reais e formatar
            const valorEmReais = preco / 100;
            return valorEmReais.toLocaleString('pt-BR', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
        }
        
        function zerarTudo() {
            // Zerar todas as quantidades
            [...medicamentos, ...procedimentos, ...ursosHP].forEach(produto => {
                carrinho[produto.id] = 0;
                atualizarQuantidade(produto.id);
            });
            
            // Resetar convênio para "Sem Convênio"
            convenioOptions.forEach(opt => opt.classList.remove('active'));
            convenioOptions[0].classList.add('active');
            convenioAtual = 'sem';
            
            // Recalcular total
            calcularTotal();
        }
        
        // Função para alternar entre abas
        function alternarAba(abaId) {
            // Atualizar botões das abas
            abaBotoes.forEach(botao => {
                if (botao.getAttribute('data-aba') === abaId) {
                    botao.classList.add('ativo');
                } else {
                    botao.classList.remove('ativo');
                }
            });
            
            // Atualizar conteúdo das abas
            abaConteudos.forEach(conteudo => {
                if (conteudo.id === `aba-${abaId}`) {
                    conteudo.classList.add('ativo');
                } else {
                    conteudo.classList.remove('ativo');
                }
            });
        }
        
        // Inicializar
        renderizarProdutos();
        calcularTotal();
        
        // Event listeners para abas
        abaBotoes.forEach(botao => {
            botao.addEventListener('click', () => {
                const abaId = botao.getAttribute('data-aba');
                alternarAba(abaId);
            });
        });
        
        // Event listeners para convênios
        convenioOptions.forEach(option => {
            option.addEventListener('click', (e) => {
                const conv = e.target.closest('.convenio-option').getAttribute('data-convenio');
                if (conv) {
                    convenioOptions.forEach(opt => opt.classList.remove('active'));
                    e.target.closest('.convenio-option').classList.add('active');
                    convenioAtual = conv;
                    calcularTotal();
                }
            });
        });
        
        // Event listeners para combos (SEM ALERTA)
        btnComboPM.addEventListener('click', () => aplicarCombo('pm'));
        btnComboCidadao.addEventListener('click', () => aplicarCombo('cidadao'));
        
        // Event listener para zerar tudo
        btnZerarTudo.addEventListener('click', zerarTudo);
    </script>
</body>
</html>

